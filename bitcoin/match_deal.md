#### 撮合引擎 
    
- 20180504 xq （再完善）

- 交易入口校验
    - 同一个用户的挂单操作频率（预防自动化的频繁和ddos）
    - 验证用户挂单资产冻结

- 币币交易撮合模块
    - 数据结构
        - 新进来的订单 
        - 未成交订单有序队列
        - 历史订单（成交的/撤销的）
        - k线数据
    - 引擎对外交互 
        - 挂单（ask买入/bid卖出）/撤销订单；（一次提交多条操作）
        - 获取交易深度数据（不要频繁读取，考虑数据传输量，建议调用者做秒级缓存）
        - 少量交易深度数据
        - 获取k线数据（不要频繁读取，考虑数据传输量）
        - 币币交易用户清算数据/历史订单数据需要持久存贮的
        - 未成交订单数据需要持久化的
        - 撮合引擎初始化需要导入（未成交订单数据/k线数据/新进来的订单）
    - 定时器周期（毫秒级）
        - 向清算模块推送数据（未成交订单/历史订单/币币交易用户清算数据）
        - 处理其他数据（K线数据等/深度数据等）
        - 撮合数据（2个有序队列（买/卖）2个新进订单队列（无序）；每一次撮合之后数据队列都会有变化）
            - 成交条件：买入价 >= 卖出价
            - 成交价: 买入价/卖出价/上一笔成交价，取中间者
            - 买入队列/卖出队列：价格优先/同价格情况下时间优先
    - 实现方式：
        - 使用go语言做tcp服务；
        - 撮合算法部分使用c语言编写循环处理队列数据（c语言和go语言可以混合编程）
        - 每一对币币交易使用独立的引擎（用户资产由清算模块整合之后再做持久存贮）
    - 未来优化
        - 多线程处理数据（破坏撮合公平性，用户量大他们没感觉）
        - 多线程处理以后再做残余数据整理
        - 目标：提高撮合抗压能力；兼容之前的API格式